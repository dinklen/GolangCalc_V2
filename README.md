# GolangCalc_V2
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

![logo](go.png)

---
## üìú –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–û –ø—Ä–æ–µ–∫—Ç–µ](#–æ-–ø—Ä–æ–µ–∫—Ç–µ)
- [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
    - [Redis](#redis)
    - [PostgreSQL](#postgresql)
    - [–ü—Ä–æ—á–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞](#–ø—Ä–æ—á–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞)
    - [–ó–∞–ø—É—Å–∫](#–∑–∞–ø—É—Å–∫)
- [–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä](#–æ—Ç–ø—Ä–∞–≤–∫–∞-–∑–∞–ø—Ä–æ—Å–æ–≤-–Ω–∞-—Å–µ—Ä–≤–µ—Ä)
    - [–ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã](#–∑–∞–ø—Ä–æ—Å—ã-–Ω–∞-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
        - [–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞–∫–∫–∞—É–Ω—Ç–∞](#—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã-–∞–∫–∫–∞—É–Ω—Ç–∞)
            - [–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è](#—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
            - [–í—Ö–æ–¥](#–≤—Ö–æ–¥)
            - [–í—ã—Ö–æ–¥](#–≤—ã—Ö–æ–¥)
            - [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-—Ç–æ–∫–µ–Ω–æ–≤)
        - [–ó–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã](#–∑–∞—â–∏—â—ë–Ω–Ω—ã–µ-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
            - [–í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç](#–≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π-—ç–Ω–¥–ø–æ–∏–Ω—Ç)
            - [–ò—Å—Ç–æ—Ä–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π](#–∏—Å—Ç–æ—Ä–∏—è-–≤—ã—á–∏—Å–ª–µ–Ω–∏–π)
            - [–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ](#–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ)
    - [–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∫–æ–¥—ã](#–≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ-–∫–æ–¥—ã)
- [–î–∞–ª—å–Ω–µ–π—à–∏–µ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã](#–¥–∞–ª—å–Ω–µ–π—à–∏–µ-–ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã)
- [–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è](#–∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)

---
## –û –ø—Ä–æ–µ–∫—Ç–µ
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞, –ø—Ä–æ–∏–∑–≤–æ–¥—è—â–µ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–≥–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---
## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É API. –í—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–µ–ª–∏—Ç—å—Å—è –Ω–∞ –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏—è, –∏ –≤—ã—á–∏—Å–ª—è–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã–µ –Ω–∞ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏—è.

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
–ò–º–µ–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å —É—á—ë—Ç–Ω—É—é –∑–∞–ø–∏—Å—å, –∫ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥—É—Ç –ø—Ä–∏–≤—è–∑–∞–Ω—ã –¥–∞–ª—å–Ω–µ–π—à–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –æ—Ç –Ω–µ—ë –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏–π
–ö–∞–∂–¥—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ –∏—Ö –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å.

---
## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
–î–∞–≤–∞–π—Ç–µ –∫–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/dinklen/GolangCalc_V2.git
```

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
> –¥–æ—Ä–æ–≥–æ–π Docker...

–ù—É–∂–Ω–æ:

### Redis
#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è Linux/Ubuntu
–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤–≤–µ–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
sudo apt update
sudo apt install redis-server
```
Redis —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
```bash
sudo systemctl start redis
```
–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —ç—Ç–æ–π —Å–ª—É–∂–±—ã –∑–∞–º–µ–Ω–∏—Ç–µ `start` –Ω–∞ `stop`.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è MacOS
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ Homebrew:
```bash
brew install redis
```

–ò –∑–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ:
```bash
brew services start redis
```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è Windows
> **note**: –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ WSL:
  ```powershell
  wsl --install
  ```

–î–∞–ª–µ–µ –≤–≤–æ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤ –Ω—ë–º, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–¥–µ–ª–µ –¥–ª—è *Linux/Ubuntu*.

### PostgreSQL
#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è Linux/Ubuntu –∏ Windows (WSL)
–°–∫–∞—á–∞–π—Ç–µ –µ–≥–æ:
```bash
sudo apt update
sudo apt install postgresql postgresql-contrib
```
–ê –∑–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ —Å–ª—É–∂–±—É:
```bash
sudo systemctl start postgresql
```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è MacOS
–£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
brew install postgresql
```
–ò –∑–∞–ø—É—Å–∫:
```bash
brew services start postgresql
```

#### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ë–î –≤ PostgreSQL
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ PostgreSQL:
```bash
psql postgres
```
–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∂–µ–ª–∞–Ω–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º –∏ –∏–º–µ–Ω–µ–º *(–Ω–µ –∑–∞–±—É–¥—å—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ `GolangCalc_V2/internal/config/config.yaml` –≤ –ø–æ–ª—è—Ö `database.password` –∏ `database.user` –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ)*:
```sql
CREATE USER <–∏–º—è> WITH PASSWORD '<–ø–∞—Ä–æ–ª—å>';
CREATE DATABASE calc_database OWNER myuser;
\q
```

–° –æ—Å—Ç–∞–ª—å–Ω—ã–º —Å–ø—Ä–∞–≤—è—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏–∏.

### –ü—Ä–æ—á–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ —Å –ø—Ä–æ–µ–∫—Ç–æ–º –∏ –≤–≤–µ–¥–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å–ª–µ–¥—É—é—â–µ–µ:
```bash
go mod download && go mod tidy
```

> —è –Ω–µ —Å–æ–º–Ω–µ–≤–∞—é—Å—å, —Å–æ–∑–¥–∞—Ç–µ–ª—å Docker - –≥–µ–Ω–∏–π

### –ó–∞–ø—É—Å–∫
–ù–∞—Å—Ç–∞–ª —ç—Ç–æ—Ç –¥–æ–ª–≥–æ–∂–¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞! –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞ (–ø–æ—Ä—Ç, –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ —Ç.–¥.), –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `internal/config` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª `config.yaml`.

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ `cmd/servers` –∏ –≤–≤–µ–¥–∏—Ç–µ `go run main.go`. –í—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ —Å–µ—Ä–≤–µ—Ä. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ç–æ—Ä–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª, –≤ –Ω—ë–º –º—ã –±—É–¥–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞—à–µ–º—É —Å–µ—Ä–≤–µ—Ä—É. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –∫ –Ω–∏–º.

---
## –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
–°—Ç–æ–∏—Ç –æ–≥–æ–≤–æ—Ä–∏—Ç—Å—è –æ–± —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö.

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏—è | JWT Auth |
| :------: | :---: | :------: | :--: | :---: |
| `/register` | `POST` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–π —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏. | `login`<br>`password` | `none` |
| `/login` | `POST` | –í—Ö–æ–¥ –≤ —É—á—ë—Ç–Ω—É—é –∑–∞–ø–∏—Å—å. | `login`<br>`password` | `none` |
`/refresh` | `POST` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access –∏ refresh —Ç–æ–∫–µ–Ω–æ–≤ | `refresh_token` | `none` |
`/logout` | `POST` | –û—Ç–∑—ã–≤ access —Ç–æ–∫–µ–Ω–∞ (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞). | `access_token` | `none` |
`/api/v1/calculate` | `POST` | –ü—Ä–∏–Ω—è—Ç–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è. | `expression` | `checking` |
| `/api/v1/expression` | `GET` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. | `none` | `checking` |
| `/api/v1/expression/<id>` | `GET` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. | `none` | `checking` |

–í —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞. –ö–∞–∫ –Ω–∞ –Ω–∏—Ö —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å?

### –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
–≠—Ç–æ HTTPS —Å–µ—Ä–≤–µ—Ä, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É `certs` –∫–æ–Ω–µ–≤–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç `cert.pem`.

#### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞–∫–∫–∞—É–Ω—Ç–∞
–°–¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å —Å –ø–æ–º–æ—â—å—é `cURL`:

##### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
–í–≤–µ–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:
```bash
curl --cacert cert.pem --location 'https://localhost:<port>/register' \
--header 'Content-Type: application/json' \
--data '{
"login":"cool_login",
"password":"q1w2e3"
}'
```
> **info**: –≤–º–µ—Å—Ç–æ `port` –≤–≤–µ–¥–∏—Ç–µ –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤—ã –ø–æ–¥–Ω—è–ª–∏ —Å–µ—Ä–≤–µ—Ä.

–ï—Å–ª–∏ –≤—ã –µ—â—ë –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ –¥–∞–Ω–Ω—ã–π –ª–æ–≥–∏–Ω, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞.

```json
{
    "message":"success to create account"
}
```

##### –í—Ö–æ–¥
–î–ª—è –≤—Ö–æ–¥–∞ –Ω—É–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–Ω–¥–ø–æ–∏–Ω—Ç—É:
```bash
curl --cacert cert.pem --location 'https://localhost:<port>/login' \
--header 'Content-Type: application/json' \
--data '{
"login":"cool_login",
"password":"q1w2e3"
}'
```
–í —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ access –∏ refresh —Ç–æ–∫–µ–Ω—ã
```json
{
    "access_token":"<token>",
    "refresh_token":"<token>"
}
```
–í –¥–∞–ª—å–Ω–µ–π—à–µ–º –∏—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ—Ç–∑—ã–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Ö –∏ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º.

##### –í—ã—Ö–æ–¥
–ò–ª–∏ –ø–æ-–¥—Ä—É–≥–æ–º—É –æ—Ç–∑—ã–≤ —Ç–æ–∫–µ–Ω–æ–≤. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ —Å–≤–æ—ë–º —Ç–µ–ª–µ access —Ç–æ–∫–µ–Ω.
```bash
curl --cacert cert.pem --location 'https://localhost:<port>/logout' \
--header 'Content-Type: application/json' \
--data '{
"access_token":"<token>"
}'
```
–ü—Ä–∏ —É—Å–ø–µ—Ö–µ access —Ç–æ–∫–µ–Ω —Å—Ç–∞–Ω–µ—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º.

##### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
–¢–æ–∫–µ–Ω—ã refresh –∏ access –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª–µ–Ω—ã. –í–≤–µ–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:
```bash
curl --cacert cert.pem --location 'https://localhost:<port>/refresh' \
--header 'Content-Type: application/json' \
--data '{
"refresh_token":"<token>"
}'
```

#### –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
–ù–∞ –Ω–∏—Ö –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∫–∞ access —Ç–æ–∫–µ–Ω–∞. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä—ã.

##### –í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç
–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:
```bash
curl --cacert cert.pem --location 'https://localhost:<port>/api/v1/calculate' \
--header 'Content-Type: application/json' \
--header 'Authorization: <access_token>' \
--data '{
"expression":"<expression>"
}'
```

–ù–∞ —ç—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –º—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ. –ï—Å–ª–∏ –æ–Ω–æ –≤–∞–ª–∏–¥–Ω–æ–µ, –Ω–∞–º –ø—Ä–∏–¥—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:
```json
{
    "task_id":"<uuid>"
}
```

ID –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –º—ã –∑–∞—Ö–æ—Ç–∏–º –≤–∑—è—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –ë–î.

##### –ò—Å—Ç–æ—Ä–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
–ß—Ç–æ–±—ã –µ—ë –ø–æ–ª—É—á–∏—Ç—å, –≤–≤–µ–¥–∏—Ç–µ:
```
curl --cacert cert.pem --location 'https://localhost:<port>/api/v1/expressions' \
--header 'Authorization: <access_token>'
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —Ç—É—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GET –º–µ—Ç–æ–¥.

–ü–æ—Å–ª–µ –æ–±—Ä–∞—â–µ–Ω–∏—è, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –æ—Ç–≤–µ—Ç:
```json
{
    "expressions":
    [
         {
              "id":"<uuid>",
              "expression":"<expr>",
              "result":"<result>",
              "status":"<status>",
              "creating_time":"<time>"
         }
    ]
}
```

##### –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–≤–µ—Ä—à–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç, —É–∫–∞–∑–∞–≤ –ø—Ä–∏ —ç—Ç–æ–º ID –∂–µ–ª–∞–µ–º–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:
```bash
curl --cacert cert.pem --location 'https://localhost:<port>/api/v1/expressions/<id>' \
--header 'Authorization: <access_token>'
```

–í—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤–∏–¥–∞:
```json
{
     "expression":
     {
          "id":"<uuid>",
          "expression":"<expr>",
          "result":"<result>",
          "status":"<status>",
          "creating_time":"<time>"
     }
}
```

### –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∫–æ–¥—ã
| –ö–æ–¥ | –ó–Ω–∞—á–µ–Ω–∏–µ |
| :-: | :------: |
| `200` | –û–ö |
| `201` | –°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ |
| `400` | –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π –∑–∞–ø—Ä–æ—Å |
| `401` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–∞–ª–µ–Ω–∞ |
| `403` | –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–π –º–µ—Ç–æ–¥ |
| `404` | –≠–Ω–¥–ø–æ–∏–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω |
| `422` | –ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å |
| `500` | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

---
## –î–∞–ª—å–Ω–µ–π—à–∏–µ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã
–†–∞–∑—É–º–µ–µ—Ç—Å—è, –¥–æ–±–∞–≤–∏—Ç—å Docker. –ê —Ç–∞–∫–∂–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É CLI –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

---
## –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
Telegram: [@dinklen08](https://t.me/dinklen08)

---
The end.
